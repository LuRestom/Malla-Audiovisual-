<!DOCTYPE html>
titulo: "MATERIAS TERCER AÑO",
bloques: [
{
titulo: "PRIMER CUATRIMESTRE",
items: ["Inglés", "Dirección de Arte y Ambientación", "Electiva I", "Electiva II", "Audiovisual III", "Practica Profesional 3", "TP FINAL 3"]
}
]
}
];


let aprobadas = JSON.parse(localStorage.getItem("aprobadas")) || [];


function guardar() {
localStorage.setItem("aprobadas", JSON.stringify(aprobadas));
}


function render() {
const cont = document.getElementById("malla");
cont.innerHTML = "";


estructura.forEach(anio => {
const anioDiv = document.createElement("div");
anioDiv.className = "anio";
anioDiv.innerHTML = `<h2>${anio.titulo}</h2>`;


anio.bloques.forEach(b => {
const bDiv = document.createElement("div");
bDiv.className = b.titulo.includes("ANUALES") ? "anuales" : "cuatri";
bDiv.innerHTML = `<h3>${b.titulo}</h3>`;


b.items.forEach(m => {
const mat = document.createElement("div");
mat.className = "materia";
mat.textContent = m;


const req = materias[m];
const cumple = req.every(r => aprobadas.includes(r));


if (!cumple) {
mat.classList.add("bloqueada");
mat.title = "Requiere: " + req.join(", ");
}


if (aprobadas.includes(m)) mat.classList.add("aprobada");


mat.addEventListener("click", () => {
if (mat.classList.contains("bloqueada")) return;


if (aprobadas.includes(m)) {
aprobadas = aprobadas.filter(x => x !== m);
} else {
aprobadas.push(m);
}
guardar();
render();
});


bDiv.appendChild(mat);
});


anioDiv.appendChild(bDiv);
});


cont.appendChild(anioDiv);
});
}


render();
</script>
</body>
</html>
